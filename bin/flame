#!/usr/bin/python2

import os, sys
print sys.path
sys.path.insert(0, os.path.abspath(os.getcwd()))

from flame.flame import run
from flame import config
import pylab
import matplotlib.pyplot as plt
import time
import threading

def send_gps():
    print "                                       GPS DATA"
    threading.Timer(1, send_gps).start()

send_gps()

#import multiprocessing as mp

#for root, dirs, files in os.walk('/home/ryan/Documents/Programming/flame/flame/data/'):
trial_directory = None
#def sim():
for root,dirs,files in os.walk('/home/ryan/Documents/Programming/flame/data/'):
    for d in dirs:
        dname = os.path.join(root, d)
        fires_toa = os.path.join(dname, "ashley.toa")
        fires_fli = os.path.join(dname, "ashley.fli")
        trial_directory = d
        print trial_directory
        print fires_toa
        print fires_fli
        run(fires_toa, fires_fli, trial_directory)
#from flame import results
#results()
#processes = [mp.Process(target= sim) for x in range(8)]
#
#for p in processes:
#    p.start()
#
#for p in processes:
#    p.join()
